<%= form_with(model: call, local: true) do |form| %>
<% if call.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(call.errors.count, "error") %>
      prohibited this call from being saved:</h2>

    <ul>
      <% call.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>
<div class="col-8 mb-8">
  <div class="field">
    <%= form.label :title, 'Título' %>
    <%= form.text_field :title, class: 'form-control boxed', autocomplete: :off %>
  </div>

  <div class="field">
    <%= form.label :description, 'Descrição' %>
    <%= form.text_area :description, class: 'form-control boxed', rows: '8', autocomplete: :off %>
  </div>

  <div class="field">
    <%= form.label :version, 'Versão' %>
    <%= form.text_field :version, class: 'form-control boxed' %>
  </div>

  <div class="field">
    <%= form.label :access_profile, 'Perfil de Acesso' %>
    <%= form.text_field :access_profile, class: 'form-control boxed' %>
  </div>

  <div class="field">
    <%= form.label :feature_detail, 'Detalhe da Funcionalidade' %>
    <%= form.text_field :feature_detail, class: 'form-control boxed' %>
  </div>

  <div class="field">
    <%= form.label :city_id, 'Cidade' %>
    <%= form.collection_select(:city_id, City.all, :id, :name, {include_blank: "Selecione uma cidade: "}, class: 'form-control boxed') %>
  </div>

  <div class="field">
    <%= form.label :state_id, 'Estado' %>
    <%= form.collection_select(:state_id, get_all_states, :id, :name, {include_blank: "Selecione um Estado: "}, class: 'form-control boxed') %>
  </div>

  <div class="field">
    <%= form.label :category_id, 'Categoria' %>
    <%= form.collection_select(:category_id, Category.all, :id, :name, {include_blank: "Selecione uma Categoria: "}, class: 'form-control boxed') %>
  </div>

  <%= form.submit 'Criar atendimento', :class => 'btn btn-primary btn-sm' %>
  <%= link_to 'Cancelar', calls_path, :class => 'btn btn-danger btn-sm' %>
</div>
<% end %>