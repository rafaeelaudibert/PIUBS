<%= form_with(model: answer, local: true) do |form| %>
<% if answer.errors.any? %>
  <div id="error_explanation">
    <h2><%= pluralize(answer.errors.count, "error") %>
      prohibited this answer from being saved:</h2>

    <ul>
      <% answer.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div class="field">
  <%= form.label :question %>
  <% if @question %>
    <%= form.text_field :question, value: @question.title %>
  <% else %>
    <%= form.text_field :question %>
  <% end %>
</div>

<div class="field">
  <%= form.label :answer %>
  <% if @reply %>
    <%= form.text_field :answer, value: strip_tags(@reply.description.gsub("&nbsp;", "")) %>
  <% else %>
    <%= form.text_field :answer %>
  <% end %>
</div>

<% text = 'display: none' %>
  <% if @question %>
    <div class="field" style="display: none">
      <%= form.label :category_id %>
      <%= form.text_field :category_id, value: @question.category.id %>
    </div>
    <%= hidden_field_tag :question_id, @question.id %>
  <% else %>
    <div class="field">
      <%= form.label :category_id %>
      <%= form.text_field :category_id %>
    </div>
  <% end %>

  <div class="field" style="display: none">
    <%= form.label :user_id %>
    <%= form.text_field :user_id, value: current_user.id %>
  </div>

  <% unless @reply && @reply.faq == true %>
    <div class="form-check form-check-inline">
      <%= form.check_box :faq, class: "form-check-input" %>
      <%= form.label :faq, value: 'Add to FAQ?', class: 'form-check-label' %>
    </div>
    <br/><br/>
  <% end %>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>